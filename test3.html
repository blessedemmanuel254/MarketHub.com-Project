<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Market Hub | Daily Products</title>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: Arial, Helvetica, sans-serif;
}

body {
  background: #fff;
  color: #000;
  padding: 40px;
}

.header {
  text-align: center;
  margin-bottom: 40px;
}

.header h1 {
  font-size: 28px;
  letter-spacing: 2px;
}

.header p {
  font-size: 13px;
  margin-top: 8px;
}

.products-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 30px;
}

.product-card {
  border: 1px solid #000;
  padding: 15px;
  display: flex;
  flex-direction: column;
  gap: 15px;
  transition: 0.3s;
}

.product-card:hover {
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.product-card img {
  width: 100%;
  height: 250px;
  object-fit: cover;
  border: 1px solid #000;
}

.product-name {
  font-weight: bold;
  font-size: 16px;
}

.product-price {
  font-size: 14px;
}

.product-description {
  font-size: 13px;
  line-height: 1.5;
}

.download-btn {
  margin-top: auto;
  padding: 10px;
  background: #000;
  color: #fff;
  border: none;
  cursor: pointer;
  font-weight: bold;
  transition: 0.3s;
}

.download-btn:hover {
  background: #333;
}

.disabled {
  background: #ccc !important;
  color: #666 !important;
  cursor: not-allowed;
}

.footer-note {
  margin-top: 50px;
  text-align: center;
  font-size: 12px;
}
</style>
</head>

<body>

<div class="header">
  <h1>Market Hub Daily Products</h1>
  <p>Download and post across all platforms today.</p>
</div>

<div class="products-grid" id="productsContainer"></div>

<div class="footer-note">
  Sunday is a rest day. No posting allowed.
</div>

<script>

// ==============================
// DAILY PRODUCTS CONFIGURATION
// ==============================

const dailyProducts = [
  {
    id: 1,
    name: "Executive Leather Laptop Bag",
    price: "KES 4,500",
    description: "Premium executive laptop bag. Durable and stylish.",
    image: "Images/Ipcone 16-inch standing fan.png"
  },
  {
    id: 2,
    name: "6 Litre Electric Pressure Cooker",
    price: "KES 7,200",
    description: "Fast cooking, energy saving, perfect for family meals.",
    image: "Images/Passion Juice.jpg"
  },
  {
    id: 3,
    name: "16-inch Standing Fan",
    price: "KES 3,800",
    description: "Powerful airflow with adjustable height.",
    image: "Images/Ipcone 16-inch standing fan.png"
  },
  {
    id: 4,
    name: "Large Travel Duffel Bag",
    price: "KES 2,900",
    description: "Spacious travel bag. Ideal for weekend trips.",
    image: "Images/Ipcone 16-inch standing fan.png"
  },
  {
    id: 5,
    name: "Velvet Curtains",
    price: "KES 2,500",
    description: "Elegant home curtains. Premium soft material.",
    image: "Images/Ipcone 16-inch standing fan.png"
  }
];

// ==============================
// RENDER PRODUCTS
// ==============================

const container = document.getElementById("productsContainer");
const today = new Date().getDay(); // 0 = Sunday

dailyProducts.forEach(product => {

  const card = document.createElement("div");
  card.className = "product-card";

  card.innerHTML = `
    <img src="${product.image}" alt="${product.name}">
    <div class="product-name">${product.name}</div>
    <div class="product-price">${product.price}</div>
    <div class="product-description">${product.description}</div>
    <button class="download-btn" data-id="${product.id}">
      Download for Posting
    </button>
  `;

  container.appendChild(card);
});

// ==============================
// SUNDAY DISABLE
// ==============================

if (today === 0) {
  document.querySelectorAll(".download-btn").forEach(btn => {
    btn.textContent = "No Posting Today (Sunday)";
    btn.classList.add("disabled");
    btn.disabled = true;
  });
}

// ==============================
// DOWNLOAD + SAVE TO LOCAL STORAGE
// ==============================

document.addEventListener("click", function(e) {

  if (!e.target.classList.contains("download-btn")) return;
  if (today === 0) return;

  const id = parseInt(e.target.dataset.id);
  const product = dailyProducts.find(p => p.id === id);

  // Save individually
  localStorage.setItem(
    "marketHubDailyProduct_" + product.id,
    JSON.stringify(product)
  );

  // Trigger image download
  const link = document.createElement("a");
  link.href = product.image;
  link.download = product.name.replace(/\s+/g, "_") + ".jpg";
  document.body.appendChild(link);
  link.click();
  document.body.removeChild(link);

  alert(product.name + " saved locally. Ready for posting.");

});

</script>

</body>
</html>